<!DOCTYPE html>
<html>
  <head>
    <title>Movie List</title>
    <style>
      #date-range {
  width: 300px;
}

#selected-date {
  margin-top: 10px;
  padding: 5px;
  width: 100px;
}

    </style>
    <script>

    </script>
        <meta charset="UTF-8">
        <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/styles/fe_style.css">
        <link rel="stylesheet" href="/styles/style.css">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap" rel="stylesheet">
  </head>
  <body>
      <!-- Navbar -->
      <nav class="p-10 bg-black text-cfab7a">
        <div class="container flex items-center justify-between mx-auto">
            <a href="#" class="text-3xl font-semibold">TixOnline</a>
            <div class="text-[#cfab7a]">
                <a href="/home" class="px-4 hover:text-white">Home</a>
                <a href="#nowplaying" class="px-4 hover:text-white">Now Playing</a>
                <a href="#comingsoon" class="px-4 hover:text-white">Coming Soon</a>
                <a href="/theaters" class="px-4 hover:text-white">Theaters</a>
                <a href="#about" class="px-4 hover:text-white">About</a>
            </div>
    
        </div>
    </nav>

    <section id="movieList" class="bg-black py-16 text-[#cfab7a]">
      <div class="container mx-auto">
          <div class="kodfun-galeri">
              <% movies.forEach(movie => {  %>
                  <div style="background-image: url('/images/<%= movie.images %>');">
                      <div class="overlay">
                          <a href="/schedules/<%= movie.movie_id %>" class="font-semibold "><%= movie.title %></a>
                      </div>
                  </div>
                <% }) %>
          </div>
      </div>
    </section>

    <section id="movieDetail" class="bg-black py-16 text-[#cfab7a] ">
   
          <h1 class="mb-16 text-4xl font-semibold flex justify-center"><%= movie.title %></h1>
            <!--Movie Selected Info-->
            <div class="flex justify-center">
              <iframe class="mb-4 flex justify-center" width="560" height="315" src="https://www.youtube.com/embed/<%= movieVideo %>?controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

            </div>
      
    </section>
 
  
        <!--Filter-->
    <form id="filterForm" action="/schedules/<%= movie.movie_id %>" method="GET">
        <select id="selectedCity" name="selectedCity">
          <% cities.forEach((city) => { %>
            <option value="<%= city.city %>"><%= city.city %></option>
          <% }) %>
        </select>


        <input type="date" id="selectedDate" name="selectedDate">

        <button type="submit">Filter</button>
      </form>

   





    <% if (schedules != null ) { %>
        <% if (schedules.length > 0) { %>

            <h3>Schedules:</h3>

            <ul>
              <% schedules.forEach(schedule => { %>
                <li><%= schedule.date %> at <%= schedule.hours %>.00</li>
              <% }) %>
            </ul>

          <% } else { %>
            <p>No schedules available for this movie.</p>
          <% } %>
     <% } %>

    </body>
  </html>
